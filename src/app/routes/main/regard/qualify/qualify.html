<div class="qualify" *ngrxLet="{ loader: loader$, qualify: qualify$, regard: regard$ } as vm">
  <div class="qualify--container">
    @if(vm.qualify?.finishedLap && vm.qualify.finished){
    <div>Finish Qualify</div>
    <button mat-button (click)="handleExit()">Exit</button>
    } @else if (vm.qualify?.finishedLap){
    <div>
      <p>Finished Lap</p>
      <button mat-button (click)="handleStartNextLap()">Start next lap</button>
    </div>
    } @else {
    <app-qualify-text
      [data]="{ qualify: vm.qualify, regard: vm.regard } | text"
      (next)="bs$$.next()"
      [(flag)]="flag"
    ></app-qualify-text>
    }
  </div>
</div>
